---
phase: 06-fix-incomplete-design-changes-header-and-nav
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/REQUIREMENTS.md
  - src/app/components/TaskMissionControl.tsx
autonomous: true
requirements:
  - MOBILE-01
  - MOBILE-02
  - MOBILE-03
  - MOBILE-04
  - MOBILE-05
gap_closure: true

must_haves:
  truths:
    - "REQUIREMENTS.md contains MOBILE-01 through MOBILE-05 definitions under a Mobile Responsiveness section"
    - "REQUIREMENTS.md traceability table maps MOBILE-01..05 to Phase 6 with status Complete"
    - "REQUIREMENTS.md Out of Scope table no longer lists Mobile-specific redesign as excluded"
    - "REQUIREMENTS.md coverage count reflects the 5 new requirements (26 total)"
    - "TaskMissionControl header div uses flex-col sm:flex-row sm:items-center sm:justify-between gap-4 instead of flex items-center justify-between"
  artifacts:
    - path: ".planning/REQUIREMENTS.md"
      provides: "MOBILE-01..05 requirement definitions and traceability"
      contains: "MOBILE-01"
    - path: "src/app/components/TaskMissionControl.tsx"
      provides: "Responsive header layout with mobile stacking fallback"
      contains: "flex-col sm:flex-row"
  key_links:
    - from: "REQUIREMENTS.md MOBILE-* definitions"
      to: "06-01-PLAN.md and 06-02-PLAN.md frontmatter"
      via: "requirement IDs match"
      pattern: "MOBILE-0[1-5]"
---

<objective>
Close two verification gaps from Phase 6: (1) add missing MOBILE-01 through MOBILE-05 requirement definitions and traceability to REQUIREMENTS.md, and (2) fix the TaskMissionControl header layout to use mobile stacking fallback as specified in the 06-02 plan.

Purpose: The Phase 6 verification found that requirement IDs MOBILE-01..05 declared in plan frontmatter are orphaned -- they have no definitions in REQUIREMENTS.md. Additionally, the TaskMissionControl header does not stack its heading and "Add Task" button vertically on mobile, which can cause overflow at very narrow widths. Both gaps need closure for traceability and layout correctness.

Output: Updated REQUIREMENTS.md with Mobile Responsiveness section and traceability rows. Updated TaskMissionControl.tsx header with flex-col mobile stacking.
</objective>

<execution_context>
@/Users/robjames/.claude/get-shit-done/workflows/execute-plan.md
@/Users/robjames/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/06-fix-incomplete-design-changes-header-and-nav/06-VERIFICATION.md
@src/app/components/TaskMissionControl.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add MOBILE-01..05 requirement definitions and traceability to REQUIREMENTS.md</name>
  <files>.planning/REQUIREMENTS.md</files>
  <action>
Edit `.planning/REQUIREMENTS.md` to add Mobile Responsiveness requirements and update traceability:

**1. Add Mobile Responsiveness section after the "View Components" section (before "## v2 Requirements"):**

```markdown
### Mobile Responsiveness

- [x] **MOBILE-01**: Sidebar converts to a full-screen hamburger drawer overlay below 640px (sm breakpoint) with all 4 nav items plus bell and settings icons
- [x] **MOBILE-02**: Header compresses on mobile to show hamburger icon, logo orb, compact search, and avatar only (no name/status, no bell/settings)
- [x] **MOBILE-03**: Dashboard stats grid displays in 2-column layout on mobile with reduced padding and font sizes
- [x] **MOBILE-04**: Main content padding, welcome heading, and section spacing reduce on mobile (p-4, text-2xl, space-y-6)
- [x] **MOBILE-05**: All three view components (ClientCommandCenter, MeetingIntelligence, TaskMissionControl) are responsive with 2-column stat grids, wrapping filter bars, and stacking content layouts on mobile
```

**2. Update the Out of Scope table:**

Remove the row `| Mobile-specific redesign | Maintain existing responsive behavior |` — this is no longer out of scope since Phase 6 explicitly added mobile responsiveness. Replace it with:

```markdown
| Mobile-specific redesign beyond 640px breakpoint | Phase 6 addressed sm breakpoint; tablet/large-mobile specific breakpoints not in scope |
```

This preserves the boundary while acknowledging that basic mobile responsiveness was delivered.

**3. Add traceability rows to the Traceability table:**

Add these 5 rows after the existing COMP-05 row (before the `**Coverage:**` line):

```markdown
| MOBILE-01 | Phase 6 | Complete |
| MOBILE-02 | Phase 6 | Complete |
| MOBILE-03 | Phase 6 | Complete |
| MOBILE-04 | Phase 6 | Complete |
| MOBILE-05 | Phase 6 | Complete |
```

**4. Update the Coverage summary:**

Change:
```
**Coverage:**
- v1 requirements: 21 total
- Mapped to phases: 21
- Unmapped: 0
```
To:
```
**Coverage:**
- v1 requirements: 26 total
- Mapped to phases: 26
- Unmapped: 0
```

**5. Update the Last updated line** at the bottom:
Change `*Last updated: 2026-02-24 after roadmap creation — traceability complete*` to `*Last updated: 2026-02-25 — added MOBILE-01..05 definitions and traceability for Phase 6*`
  </action>
  <verify>
    <automated>cd "/Users/robjames/Projects/Mission Control/mission-control" && grep -c "MOBILE-0[1-5]" .planning/REQUIREMENTS.md</automated>
    <manual>REQUIREMENTS.md should contain 10 mentions of MOBILE-01..05 (5 definitions + 5 traceability rows)</manual>
  </verify>
  <done>REQUIREMENTS.md contains MOBILE-01..05 definitions in a Mobile Responsiveness section, traceability rows mapping them to Phase 6, updated coverage count (26), and corrected Out of Scope entry. All 5 requirement IDs are now resolvable from plan frontmatter.</done>
</task>

<task type="auto">
  <name>Task 2: Fix TaskMissionControl header layout for mobile stacking</name>
  <files>src/app/components/TaskMissionControl.tsx</files>
  <action>
In `src/app/components/TaskMissionControl.tsx`, find the header div at approximately line 110:

```tsx
<div className="flex items-center justify-between">
```

This is the first `flex items-center justify-between` in the return statement — the one that wraps the heading `<div>` and the action buttons area (containing the refresh button and "Add Task" button).

Change it to:

```tsx
<div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
```

This matches the pattern established in 06-02-PLAN.md and already applied to the ClientCommandCenter header. On mobile (below 640px), the heading and action buttons will stack vertically with a 4-unit gap, preventing the "Add Task" button from crowding or truncating the "Task Mission Control" heading at narrow widths.

**Important:** Only change the FIRST occurrence at line 110 (the component header). Do NOT change the other `flex items-center justify-between` occurrences at lines 146, 157, 168, 179 (stat card internal layouts) or line 272 (task list section header) — those are fine as-is.
  </action>
  <verify>
    <automated>cd "/Users/robjames/Projects/Mission Control/mission-control" && npx next build 2>&1 | tail -5</automated>
    <manual>At 390px mobile width, the "Task Mission Control" heading and "Add Task" button should stack vertically instead of sitting side-by-side</manual>
  </verify>
  <done>TaskMissionControl header uses flex-col sm:flex-row sm:items-center sm:justify-between gap-4 — heading and action buttons stack vertically on mobile, sit side-by-side on desktop. Build passes with zero errors.</done>
</task>

</tasks>

<verification>
- `grep -c "MOBILE-0[1-5]" .planning/REQUIREMENTS.md` returns 10 (5 definitions + 5 traceability rows)
- `grep "flex flex-col sm:flex-row" src/app/components/TaskMissionControl.tsx` returns a match at the header div
- `npx next build` completes with zero errors
- REQUIREMENTS.md Out of Scope no longer contradicts Phase 6 existence
- All 5 MOBILE-* IDs are resolvable from plan frontmatter to REQUIREMENTS.md definitions
</verification>

<success_criteria>
- MOBILE-01..05 defined in REQUIREMENTS.md Mobile Responsiveness section
- Traceability table maps all 5 to Phase 6 with Complete status
- Coverage count updated to 26
- Out of Scope entry updated to reflect actual scope boundary
- TaskMissionControl header stacks on mobile (flex-col sm:flex-row pattern)
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/06-fix-incomplete-design-changes-header-and-nav/06-03-SUMMARY.md`
</output>
