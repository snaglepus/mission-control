---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on:
  - "01-01"
files_modified:
  - src/app/globals.css
  - src/app/layout.tsx
autonomous: false
requirements:
  - FNDTN-04

must_haves:
  truths:
    - "2-3 ambient warm glow orbs are visible behind the glass UI panels"
    - "Orbs drift slowly (~30s cycle) with subtle position and opacity changes"
    - "Orbs do not intercept mouse clicks on dashboard elements"
    - "Glass cards render above the orbs (correct z-index layering)"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Ambient orb styles, keyframe animations in @layer components"
      contains: ".ambient-orbs"
    - path: "src/app/layout.tsx"
      provides: "Orb wrapper markup with 3 orb divs"
      contains: "ambient-orbs"
  key_links:
    - from: "src/app/layout.tsx .ambient-orbs div"
      to: "src/app/globals.css .ambient-orbs"
      via: "CSS class"
      pattern: "ambient-orbs"
    - from: "src/app/globals.css .orb"
      to: "src/app/globals.css @keyframes orb-drift"
      via: "animation property"
      pattern: "animation: orb-drift"
    - from: "src/app/globals.css .ambient-orbs"
      to: "Glass card content"
      via: "z-index layering (orbs z-0, content above)"
      pattern: "z-index: 0"
---

<objective>
Add 2-3 ambient radial gradient orbs positioned behind the UI for atmospheric depth. The orbs use warm sunset colors (gold, rose, burnt sienna) and drift slowly with GPU-composited animation.

Purpose: Creates the warm atmospheric depth that transforms a flat dark background into a living glassmorphism environment. The orbs are the "warm lights behind the glass" the user described.
Output: Orb markup in layout.tsx, orb CSS styles and keyframe animations in globals.css.
</objective>

<execution_context>
@/Users/robjames/.claude/get-shit-done/workflows/execute-plan.md
@/Users/robjames/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@src/app/globals.css
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add ambient orb markup and CSS with drift animations</name>
  <files>src/app/layout.tsx, src/app/globals.css</files>
  <action>
**In src/app/layout.tsx**, add the ambient orb wrapper as the first child inside `<body>`, before `{children}`:

```tsx
<body className={`${inter.className} text-slate-100`}>
  <div className="ambient-orbs" aria-hidden="true">
    <div className="orb orb-1" />
    <div className="orb orb-2" />
    <div className="orb orb-3" />
  </div>
  {children}
</body>
```

Key points:
- `aria-hidden="true"` — orbs are decorative, not content
- Self-closing divs (no children)
- Must be BEFORE `{children}` in DOM order

**In src/app/globals.css**, add the following to `@layer components` (AFTER the existing `.glass-card` block, BEFORE `@layer utilities`):

```css
/* Ambient background orbs — warm atmospheric depth */
.ambient-orbs {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.35;
  will-change: transform, opacity;
}

/* Orb 1 — warm gold, largest, top-left (behind sidebar area) */
.orb-1 {
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(245, 166, 35, 0.6) 0%, transparent 70%);
  top: -10%;
  left: -5%;
  animation: orb-drift-1 30s ease-in-out infinite;
}

/* Orb 2 — warm rose / burnt sienna, bottom-right (behind main content) */
.orb-2 {
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(180, 80, 60, 0.5) 0%, transparent 70%);
  bottom: -5%;
  right: -5%;
  animation: orb-drift-2 35s ease-in-out infinite;
}

/* Orb 3 — copper, center-right (subtle floating accent) */
.orb-3 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(201, 117, 42, 0.4) 0%, transparent 70%);
  top: 30%;
  right: 20%;
  animation: orb-drift-3 28s ease-in-out infinite;
}

@keyframes orb-drift-1 {
  0%, 100% { transform: translate(0, 0);        opacity: 0.35; }
  50%       { transform: translate(40px, 30px);  opacity: 0.5;  }
}

@keyframes orb-drift-2 {
  0%, 100% { transform: translate(0, 0);         opacity: 0.3;  }
  50%       { transform: translate(-30px, -20px); opacity: 0.45; }
}

@keyframes orb-drift-3 {
  0%, 100% { transform: translate(0, 0);        opacity: 0.25; }
  50%       { transform: translate(20px, -25px); opacity: 0.4;  }
}
```

Locked user decisions honored:
- **Visible soft orbs** — opacity 0.25-0.5 range, distinct warm glow spots (not barely-noticeable haze)
- **Warm sunset mix** — gold (#f5a623) + warm rose/burnt sienna (#b4503c) + copper (#c9752a) for depth (not all-gold monochrome)
- **Slow drift animation (~30s cycle)** — 28s/30s/35s staggered cycles for organic feel, only transform and opacity animated

Claude's discretion areas:
- Orb positioning (top-left, bottom-right, center-right) — optimized for sidebar+header+card layout
- Exact opacity values — tuned for visible-but-not-dominant atmospheric effect
- Drift displacement (20-40px) — small enough to avoid large repaint areas

Performance constraints (from research):
- ONLY `transform` and `opacity` animated — GPU composited, no repaints
- `will-change: transform, opacity` — hints compositor layer promotion
- `pointer-events: none` on wrapper — orbs don't intercept clicks
- `filter: blur(80px)` is static (not animated) — set once, no per-frame cost
- Do NOT animate `background-position`, `filter`, or `width/height`

z-index layering:
- `.ambient-orbs` at z-index: 0
- Main content must render above. If needed, ensure `{children}` wrapper or main content has `position: relative; z-index: 1` — check if existing page.tsx already handles this.
  </action>
  <verify>
    <automated>cd /Users/robjames/Projects/Mission\ Control/mission-control && grep -c "ambient-orbs" src/app/layout.tsx && grep -c "ambient-orbs" src/app/globals.css && grep -c "orb-drift" src/app/globals.css && grep -c "pointer-events: none" src/app/globals.css && echo "PASS" || echo "FAIL"</automated>
    <manual>Open the running app. Verify 2-3 warm glowing orbs are visible behind the glass cards. Wait 15-20 seconds to confirm slow drift animation. Click dashboard buttons to confirm orbs do not intercept clicks. Check DevTools Performance tab during animation — should show no Paint/Layout events from the orb drift.</manual>
  </verify>
  <done>
    - layout.tsx contains .ambient-orbs wrapper with 3 .orb divs, aria-hidden="true"
    - globals.css contains .ambient-orbs with position: fixed, z-index: 0, pointer-events: none
    - globals.css contains 3 .orb-N classes with radial-gradient backgrounds in warm sunset colors
    - globals.css contains 3 @keyframes orb-drift-N animations with ~30s cycles
    - Animations use ONLY transform and opacity (GPU composited)
    - Orbs are visible as distinct warm glow spots behind the UI
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of complete Phase 1 foundation</name>
  <files>src/app/globals.css, src/app/layout.tsx</files>
  <action>
    No automated work — this is a human verification checkpoint.

    What was built: Complete warm color foundation — warm amber/gold tokens in :root, deep brown-amber background gradient, saturated glass card backdrop-filter, and 3 ambient atmospheric orbs with slow drift animation. This is the base that every downstream phase builds on.

    How to verify:
    1. Open the app in the browser
    2. Background: Confirm the overall background is warm dark brown-amber (not navy/indigo). It should feel like a warm evening, not a cold tech dashboard.
    3. Orbs: Look for 2-3 warm glowing spots behind the glass panels — gold, rose, and copper tones. They should be clearly visible but not overpowering. Watch for ~10 seconds to see the slow drift.
    4. Glass cards: Cards should show warm color bleed-through from the background/orbs. The glass effect should feel warm, not cold.
    5. Saturation test: In DevTools, select a glass card, toggle backdrop-filter to OFF. The card background should still be visibly distinct from the page background (not near-black). Toggle it back ON — the saturation increase should make the warm colors richer.
    6. Token check: In DevTools, inspect :root — verify --accent-gold and --warning are different shades (gold vs orange-red).
    7. Click test: Click buttons and interactive elements — orbs should NOT intercept any clicks.
    8. Note: Other elements (gradient text, sidebar, neon borders) will still show cool colors — that is expected. Those are Phase 2-5 work.

    Resume signal: Type "approved" to confirm Phase 1 foundation looks correct, or describe what needs adjustment (e.g., "orbs too bright", "background too dark", "gold and warning too similar").
  </action>
  <verify>User visually confirms the warm foundation looks correct and approves to proceed</verify>
  <done>User has approved the Phase 1 visual foundation — warm background, orbs, glass saturation, and token distinction all pass visual inspection</done>
</task>

</tasks>

<verification>
1. `grep -c "ambient-orbs" src/app/layout.tsx` — should return at least 1
2. `grep -c "orb-drift" src/app/globals.css` — should return at least 3 (the keyframes)
3. `grep "pointer-events: none" src/app/globals.css` — should match the .ambient-orbs block
4. `grep "will-change" src/app/globals.css` — should show transform, opacity on .orb
5. Visual: Warm glowing orbs visible behind glass panels
6. Visual: Orbs drift slowly without jank
7. Functional: All dashboard click interactions work through the orbs
</verification>

<success_criteria>
- 3 ambient orbs render with warm sunset colors (gold, rose/burnt sienna, copper)
- Orbs are positioned behind all UI content with correct z-index layering
- Orbs animate with ~30s slow drift cycles using only transform and opacity
- pointer-events: none prevents click interception
- Glass cards render above orbs and show warm color bleed-through
- User visually approves the complete Phase 1 foundation
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
